{"version":3,"file":"static/js/732.c975e7bf.chunk.js","mappings":"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","sources":["HOC/withAuthRedirect.jsx","webpack://my_project/./src/components/Dialogs/Dialogs.module.css?1b2e","components/Dialogs/DialogItem/DialogItem.jsx","components/Dialogs/Message/Message.jsx","components/Dialogs/Message/AddMessageForm.jsx","components/Dialogs/Dialogs.jsx","redux/dialogs-selector.js","components/Dialogs/DialogsContainer.jsx","webpack://my_project/./src/components/common/Forms/FormControls.module.css?e8f5","components/common/Forms/FormsControls.js"],"sourcesContent":["import React from \"react\"\r\nimport { connect } from \"react-redux\"\r\nimport { Navigate } from \"react-router-dom\"\r\n\r\nlet mapStateToPropsForRedirect = (state) =>{\r\n    return {\r\n      isAuth: state.auth.isAuth,\r\n    }\r\n  }\r\n\r\nexport const withAuthRedirect = (Component) =>{\r\n    class RedirectComponent extends React.Component{\r\n        render(){\r\n            if(!this.props.isAuth) return < Navigate to=\"/login\"/>\r\n            return (\r\n              \r\n              <Component {...this.props} />\r\n          );\r\n        }\r\n    }\r\n    return connect(mapStateToPropsForRedirect)(RedirectComponent)\r\n}","// extracted by mini-css-extract-plugin\nexport default {\"dialogs\":\"Dialogs_dialogs__bM-vd\",\"dialogsItems\":\"Dialogs_dialogsItems__Z2vzq\",\"messages\":\"Dialogs_messages__qgLRa\",\"message\":\"Dialogs_message__NTTDL\",\"dialog\":\"Dialogs_dialog__d4Ift\",\"activeLink\":\"Dialogs_activeLink__aawGf\",\"container\":\"Dialogs_container__tJYgP\",\"input\":\"Dialogs_input__q-blq\",\"sendButton\":\"Dialogs_sendButton__D+kM5\",\"item\":\"Dialogs_item__7xzh9\"};","import React from \"react\";\r\nimport s from \"./../Dialogs.module.css\";\r\nimport { NavLink } from \"react-router-dom\";\r\n\r\nconst DialogItem = (props) => {\r\n  let path = \"/dialogs/\" + props.id;\r\n  let selectDialog = () =>{\r\n    props.selectDialog(props.id);\r\n  }\r\n  return (\r\n    <NavLink\r\n      to={path}\r\n      className={({ isActive }) => {\r\n        const linkClasses = [];\r\n        if (isActive) {\r\n          linkClasses.push(s.activeLink);\r\n        }\r\n        return linkClasses.join(\" \");\r\n      }}\r\n      onClick={selectDialog}\r\n    >\r\n      <div className={s.dialog}>{props.name}</div>\r\n    </NavLink>\r\n  );\r\n};\r\n\r\nexport default DialogItem;\r\n","import React from \"react\";\r\nimport s from \"./../Dialogs.module.css\";\r\n\r\nconst Message = (props) => {\r\n  return <div className={s.message}>{props.message}</div>;\r\n};\r\n\r\nexport default Message;\r\n","import React from \"react\";\r\nimport image from \"../../../data/send.png\";\r\nimport s from \"../Dialogs.module.css\";\r\nimport { Form, Field } from \"react-final-form\";\r\nimport { FormControls } from \"../../common/Forms/FormsControls\";\r\nimport { requiredField } from \"../../../Utilities/validators\";\r\n\r\n\r\nconst AddMessageForm = (props) => {\r\n    return (\r\n      <Form\r\n      onSubmit={values => {\r\n        props.sendMessage(values.message)\r\n      }}>\r\n       {({ handleSubmit, pristine, form, submitting }) => (\r\n        <form onSubmit={handleSubmit} className={s.item}>\r\n          <Field \r\n            className={s.input}\r\n            name=\"message\"\r\n            placeholder=\"Введите сообщение...\"\r\n            component={FormControls}\r\n            element={'textarea'}    \r\n            type=\"text\"\r\n          />\r\n          <button type=\"submit\" className={s.sendButton}>\r\n            <img src={image} alt=\"\" />\r\n          </button>\r\n        </form>)}\r\n      </Form>\r\n    );\r\n  };\r\nexport default AddMessageForm","import React from \"react\";\r\nimport s from \"./Dialogs.module.css\";\r\nimport DialogItem from \"../Dialogs/DialogItem/DialogItem\";\r\nimport Message from \"./Message/Message\";\r\nimport { Navigate } from \"react-router-dom\";\r\nimport AddMessageForm from \"./Message/AddMessageForm\";\r\n\r\n\r\nconst Dialogs = (props) => {\r\n  let dialogsElements = props.dialogsPage.dialogs.map((dialog) => (\r\n    <DialogItem\r\n      name={dialog.name}\r\n      id={dialog.id}\r\n      selectDialog={props.selectDialog}\r\n    />\r\n  ));\r\n\r\n  // eslint-disable-next-line\r\n  let messagesElements = props.dialogsPage.dialogs.map((dialog) => {\r\n    if (dialog.active === true) {\r\n      return dialog.messages.map((message) => (\r\n        <Message message={message.message} />\r\n      ));\r\n    }\r\n  });\r\n\r\n  if (!props.isAuth) return <Navigate to={\"/login\"} />;\r\n\r\n  return (\r\n    <div className={s.dialogs}>\r\n      <div className={s.dialogsItems}>{dialogsElements}</div>\r\n      <div className={s.container}>\r\n        <div className={s.messages}>{messagesElements}</div>\r\n        <AddMessageForm sendMessage={props.sendMessage}/>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\n\r\n\r\nexport default Dialogs;\r\n","export const getDialogsPageSelector = (state) => state.dialogsPage","import {\r\n  sendMessage,\r\n  selectDialog\r\n} from \"../../redux/dialogs-reducer\";\r\nimport Dialogs from \"./Dialogs\";\r\nimport { connect } from \"react-redux\";\r\nimport { withAuthRedirect } from \"../../HOC/withAuthRedirect\";\r\nimport { compose } from \"redux\";\r\nimport { getDialogsPageSelector } from \"../../redux/dialogs-selector\";\r\n\r\nlet mapStateToProps = (state) => {\r\n  return {\r\n    dialogsPage: getDialogsPageSelector(state),\r\n  };\r\n};\r\n\r\n\r\n\r\nexport default compose(\r\n  withAuthRedirect,\r\n  connect(mapStateToProps, { sendMessage, selectDialog})\r\n)(Dialogs)\r\n","// extracted by mini-css-extract-plugin\nexport default {\"formControl\":\"FormControls_formControl__XeHE9\",\"error\":\"FormControls_error__exhaF\"};","import React from \"react\" \r\n\r\nimport s from './FormControls.module.css'\r\n\r\nexport const FormControls = ({element, input, meta, ...props}) => {\r\n    const hasError = meta.touched && meta.error;\r\n    return <div className={s.formControl + ' ' + (hasError ? s.error : '')}>\r\n        {React.createElement(element, {...input, ...props})}\r\n        {hasError ? <span>{meta.error}</span> : ''}\r\n        </div>\r\n}"],"names":["mapStateToPropsForRedirect","state","isAuth","auth","withAuthRedirect","Component","RedirectComponent","React","render","this","props","_jsx","Navigate","to","connect","path","id","NavLink","className","_ref","isActive","linkClasses","push","s","join","onClick","selectDialog","children","name","message","Form","onSubmit","values","sendMessage","handleSubmit","pristine","form","submitting","_jsxs","Field","placeholder","component","FormControls","element","type","src","image","alt","dialogsElements","dialogsPage","dialogs","map","dialog","DialogItem","messagesElements","active","messages","Message","AddMessageForm","getDialogsPageSelector","compose","Dialogs","input","meta","hasError","touched","error"],"sourceRoot":""}